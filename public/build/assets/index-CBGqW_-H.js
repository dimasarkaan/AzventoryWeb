import{b as u}from"./vendor-DleGK4oo.js";window.Swal=u;document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector("#inventory-filter-form"),s=document.querySelector(".table-modern")?.parentNode,c=document.querySelector(".bg-secondary-50"),d=document.querySelector("tbody:not(#skeleton-body)"),y=document.getElementById("skeleton-body");if(t){t.addEventListener("submit",function(e){e.preventDefault(),m(new FormData(t))});const o=t.querySelectorAll("input, select");let n;o.forEach(e=>{e.addEventListener("change",function(){e.name!=="search"&&m(new FormData(t))}),e.name==="search"&&e.addEventListener("input",function(){clearTimeout(n),n=setTimeout(()=>{m(new FormData(t))},500)})});const r=document.getElementById("reset-filters");r&&r.addEventListener("click",function(e){e.preventDefault(),t.reset(),window.dispatchEvent(new CustomEvent("reset-filters"));const a=t.querySelector('input[name="search"]');a&&(a.value="");const l=this.href;window.history.pushState({},"",l),m(new FormData)})}function m(o){d&&y&&(d.classList.add("hidden"),y.classList.remove("hidden"));const n=new URLSearchParams(o),e=`${t.getAttribute("action")}?${n.toString()}`;window.history.pushState({},"",e),fetch(e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(a=>a.text()).then(a=>{const h=new DOMParser().parseFromString(a,"text/html"),i=h.querySelector("tbody:not(#skeleton-body)");i&&d&&(d.innerHTML=i.innerHTML);const b=h.querySelector(".bg-secondary-50");if(b&&c?c.innerHTML=b.innerHTML:b&&!c?s&&s.parentNode.insertAdjacentHTML("beforeend",b.outerHTML):!b&&c&&(c.innerHTML=""),g(),window.resetBulkActions)window.resetBulkActions();else{const p=h.getElementById("select-all");document.getElementById("select-all")&&p&&(document.getElementById("select-all").checked=!1)}}).catch(a=>{console.error("Error fetching data:",a)}).finally(()=>{setTimeout(()=>{d&&y&&(y.classList.add("hidden"),d.classList.remove("hidden"))},300)})}function g(){document.querySelectorAll(".pagination a, .page-link, .bg-secondary-50 a").forEach(n=>{n.addEventListener("click",function(r){r.preventDefault();const e=new URL(this.href),a=new FormData(t);a.set("page",e.searchParams.get("page")),m(a)})})}g();function f(){const o=document.getElementById("bulk-action-bar"),n=document.getElementById("selected-count"),r=document.getElementById("bulk-restore-inputs"),e=document.getElementById("bulk-delete-inputs"),a=document.querySelectorAll(".bulk-checkbox:checked"),l=a.length;n&&(n.textContent=l),r&&(r.innerHTML=""),e&&(e.innerHTML=""),a.forEach(h=>{const i=document.createElement("input");i.type="hidden",i.name="ids[]",i.value=h.value,r&&r.appendChild(i.cloneNode()),e&&e.appendChild(i.cloneNode())}),o&&(l>0?(o.classList.remove("translate-y-24","opacity-0"),o.classList.add("translate-y-0","opacity-100")):(o.classList.add("translate-y-24","opacity-0"),o.classList.remove("translate-y-0","opacity-100")))}document.addEventListener("change",function(o){if(o.target.id==="select-all"){const n=o.target.checked;document.querySelectorAll(".bulk-checkbox").forEach(e=>e.checked=n);const r=document.getElementById("mobile-select-all");r&&(r.checked=n),f()}if(o.target.id==="mobile-select-all"){const n=o.target.checked;document.querySelectorAll(".bulk-checkbox").forEach(e=>e.checked=n);const r=document.getElementById("select-all");r&&(r.checked=n),f()}if(o.target.classList.contains("bulk-checkbox")){f();const n=document.querySelectorAll(".bulk-checkbox"),r=n.length>0&&Array.from(n).every(l=>l.checked),e=document.getElementById("select-all"),a=document.getElementById("mobile-select-all");e&&(e.checked=r),a&&(a.checked=r)}}),window.resetBulkActions=function(){const o=document.getElementById("select-all"),n=document.getElementById("mobile-select-all");o&&(o.checked=!1),n&&(n.checked=!1),f()},f()});window.submitInventoryBulkRestore=function(){const t=document.querySelectorAll(".bulk-checkbox:checked");t.length!==0&&u.fire({title:"Pulihkan Item?",text:`${t.length} item akan dipulihkan.`,icon:"question",showCancelButton:!0,confirmButtonText:"Ya, Pulihkan!",cancelButtonText:"Batal",reverseButtons:!0,customClass:{popup:"!rounded-2xl !font-sans",title:"!text-secondary-900 !text-xl !font-bold",htmlContainer:"!text-secondary-500 !text-sm",confirmButton:"btn btn-success px-6 py-2.5 rounded-lg ml-3 shadow-md transform hover:scale-105 transition-transform duration-200 ring-2 ring-offset-2 ring-success-500",cancelButton:"btn btn-secondary px-6 py-2.5 rounded-lg bg-white border border-secondary-200 text-secondary-600 hover:bg-secondary-50 shadow-sm"},buttonsStyling:!1,width:"24em",iconColor:"#10b981",padding:"2em",backdrop:"rgba(0,0,0,0.4)"}).then(s=>{s.isConfirmed&&document.getElementById("bulk-restore-form").submit()})};window.submitInventoryBulkDelete=function(){document.querySelectorAll(".bulk-checkbox:checked").length!==0&&u.fire({title:"Apakah Anda yakin?",text:"Data yang dihapus tidak akan bisa dikembalikan!",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal",reverseButtons:!0,customClass:{popup:"!rounded-2xl !font-sans",title:"!text-secondary-900 !text-xl !font-bold",htmlContainer:"!text-secondary-500 !text-sm",confirmButton:"btn btn-danger px-6 py-2.5 rounded-lg ml-3 shadow-md transform hover:scale-105 transition-transform duration-200 ring-2 ring-offset-2 ring-danger-500",cancelButton:"btn btn-secondary px-6 py-2.5 rounded-lg bg-white border border-secondary-200 text-secondary-600 hover:bg-secondary-50 shadow-sm"},buttonsStyling:!1,width:"24em",iconColor:"#ef4444",padding:"2em",backdrop:"rgba(0,0,0,0.4)"}).then(s=>{s.isConfirmed&&document.getElementById("bulk-delete-form").submit()})};window.confirmInventoryRestore=function(t){t.preventDefault();const s=t.target.closest("form");u.fire({title:"Pulihkan Item Ini?",text:"Item akan dipulihkan ke daftar aktif.",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, Pulihkan!",cancelButtonText:"Batal",reverseButtons:!0,customClass:{popup:"!rounded-2xl !font-sans",title:"!text-secondary-900 !text-xl !font-bold",htmlContainer:"!text-secondary-500 !text-sm",confirmButton:"btn btn-success px-6 py-2.5 rounded-lg ml-3 shadow-md transform hover:scale-105 transition-transform duration-200 ring-2 ring-offset-2 ring-success-500",cancelButton:"btn btn-secondary px-6 py-2.5 rounded-lg bg-white border border-secondary-200 text-secondary-600 hover:bg-secondary-50 shadow-sm"},buttonsStyling:!1,width:"24em",iconColor:"#10b981",padding:"2em",backdrop:"rgba(0,0,0,0.4)"}).then(c=>{c.isConfirmed&&s.submit()})};window.confirmInventoryForceDelete=function(t){t.preventDefault();const s=t.target.closest("form");u.fire({title:"Apakah Anda yakin?",text:"Data yang dihapus tidak akan bisa dikembalikan!",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal",reverseButtons:!0,customClass:{popup:"!rounded-2xl !font-sans",title:"!text-secondary-900 !text-xl !font-bold",htmlContainer:"!text-secondary-500 !text-sm",confirmButton:"btn btn-danger px-6 py-2.5 rounded-lg ml-3 shadow-md transform hover:scale-105 transition-transform duration-200 ring-2 ring-offset-2 ring-danger-500",cancelButton:"btn btn-secondary px-6 py-2.5 rounded-lg bg-white border border-secondary-200 text-secondary-600 hover:bg-secondary-50 shadow-sm"},buttonsStyling:!1,width:"24em",iconColor:"#ef4444",padding:"2em",backdrop:"rgba(0,0,0,0.4)"}).then(c=>{c.isConfirmed&&s.submit()})};window.confirmDelete=function(t){t.preventDefault();const s=t.target.closest("form");u.fire({title:"Apakah Anda yakin?",text:"Data yang dihapus tidak akan bisa dikembalikan!",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal",reverseButtons:!0,customClass:{popup:"!rounded-2xl !font-sans",title:"!text-secondary-900 !text-xl !font-bold",htmlContainer:"!text-secondary-500 !text-sm",confirmButton:"btn btn-danger px-6 py-2.5 rounded-lg ml-3 shadow-md transform hover:scale-105 transition-transform duration-200 ring-2 ring-offset-2 ring-danger-500",cancelButton:"btn btn-secondary px-6 py-2.5 rounded-lg bg-white border border-secondary-200 text-secondary-600 hover:bg-secondary-50 shadow-sm"},buttonsStyling:!1,width:"24em",iconColor:"#ef4444",padding:"2em",backdrop:"rgba(0,0,0,0.4)"}).then(c=>{c.isConfirmed&&s.submit()})};
