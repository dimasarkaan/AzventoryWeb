import{a as l,P as c,S as u,b as n,m as a}from"./vendor-DleGK4oo.js";window.axios=l;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";let r=document.head.querySelector('meta[name="csrf-token"]');r?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=r.content:console.error("CSRF token not found");window.Pusher=c;window.Echo=new u({broadcaster:"pusher",key:"610485fdc2e42ca343be",cluster:"ap1",forceTLS:!0});window.Toast=n.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,customClass:{popup:"solid-toast-popup"},didOpen:t=>{t.addEventListener("mouseenter",n.stopTimer),t.addEventListener("mouseleave",n.resumeTimer)}});window.confirmDelete=function(t){t.preventDefault();const e=t.target.closest("form");n.fire({title:"Apakah Anda yakin?",text:"Data yang dihapus tidak akan bisa dikembalikan!",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal",reverseButtons:!0,customClass:{popup:"!rounded-2xl !font-sans",title:"!text-secondary-900 !text-xl !font-bold",htmlContainer:"!text-secondary-500 !text-sm",confirmButton:"btn btn-danger px-6 py-2.5 rounded-lg ml-3 shadow-md transform hover:scale-105 transition-transform duration-200",cancelButton:"btn btn-secondary px-6 py-2.5 rounded-lg bg-white border border-secondary-200 text-secondary-600 hover:bg-secondary-50 shadow-sm"},buttonsStyling:!1,width:"24em",iconColor:"#ef4444",padding:"2em",backdrop:"rgba(0,0,0,0.4)"}).then(o=>{o.isConfirmed&&e.submit()})};document.addEventListener("DOMContentLoaded",()=>{window.flashMessages&&(window.flashMessages.success&&window.Toast.fire({icon:"success",iconHtml:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>',title:window.flashMessages.success,customClass:{popup:"solid-toast-popup toast-success"}}),window.flashMessages.error&&window.Toast.fire({icon:"error",iconHtml:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M12 15.75h.008v.008H12v-.008z" /></svg>',title:window.flashMessages.error,customClass:{popup:"solid-toast-popup toast-error"}}),window.flashMessages.warning&&window.Toast.fire({icon:"warning",iconHtml:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" /></svg>',title:window.flashMessages.warning,customClass:{popup:"solid-toast-popup toast-warning"}}))});document.addEventListener("DOMContentLoaded",function(){if(!window.Echo){console.warn("Laravel Echo tidak tersedia. Real-time updates disabled.");return}Echo.channel("inventory-updates").listen("InventoryUpdated",t=>{console.log("üì¶ Inventory Updated:",t),i(t.message,t.action),window.location.pathname.includes("/inventory")&&setTimeout(()=>{location.reload()},2e3)}).listen("BorrowingStatusChanged",t=>{console.log("üîÑ Borrowing Status Changed:",t),i(t.message,"borrowing")}),Echo.channel("stock-alerts").listen("StockCritical",t=>{console.log("‚ö†Ô∏è Stock Critical:",t);const e=w(t.severity);Swal.fire({icon:e.icon,title:e.title,html:`
                    <div class="text-left">
                        <p class="font-semibold text-lg mb-2">${t.name}</p>
                        <p class="text-sm text-gray-600 mb-3">Part Number: ${t.part_number}</p>
                        <div class="bg-gray-50 p-3 rounded">
                            <p class="text-sm">Stok Saat Ini: <strong class="text-danger-600">${t.current_stock}</strong></p>
                            <p class="text-sm">Minimum Stock: <strong>${t.min_stock}</strong></p>
                            <p class="text-sm">Persentase: <strong>${t.percentage}%</strong></p>
                        </div>
                    </div>
                `,showConfirmButton:!0,confirmButtonText:"Lihat Detail",confirmButtonColor:"#dc2626",showCancelButton:!0,cancelButtonText:"Tutup",timer:1e4,timerProgressBar:!0}).then(o=>{o.isConfirmed&&t.url&&(window.location.href=t.url)})})});function i(t,e){const o=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,didOpen:s=>{s.addEventListener("mouseenter",Swal.stopTimer),s.addEventListener("mouseleave",Swal.resumeTimer)}}),d=s=>{switch(s){case"created":return"success";case"updated":return"info";case"deleted":return"warning";case"borrowing":return"info";default:return"info"}};o.fire({icon:d(e),title:t})}function w(t){switch(t){case"depleted":return{icon:"error",title:"üö® STOK HABIS!"};case"critical":return{icon:"warning",title:"‚ö†Ô∏è STOK KRITIS!"};default:return{icon:"warning",title:"‚ö†Ô∏è PERINGATAN STOK"}}}window.Alpine=a;window.Swal=n;a.start();
